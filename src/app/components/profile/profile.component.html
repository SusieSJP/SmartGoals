<div class="header-bg"></div>
<div class="absolute-text"><h3>Edit Your <span>Lovely</span> Profile</h3></div>
<div class="fixed-bgImg">
    <img [src]="profileUrl">
</div>

<div class="absolute-position">
  <div class="center-column">
    <div>
      <form class="start-column" (ngSubmit)="updateInfo(f)" #f="ngForm">
          <mat-form-field class="full-width left-margin">
            <input matInput placeholder="Login Email" [value]="userEmail" disabled>
          </mat-form-field>
          <div>
              <mat-form-field class="full-width left-margin">
                  <input matInput placeholder="User Name" [value]="userName" [disabled]="!editName" ngModel name="userName">
                </mat-form-field>
                <button mat-flat-button class="full-button" (click)="editName=true" type="button">Edit</button>
          </div>
          <div>
              <mat-form-field class="full-width left-margin">
                  <input matInput placeholder="Password" [disabled]="!editPwd" ngModel name="password">
                </mat-form-field>
                <button mat-flat-button class="full-button" (click)="editPwd=true" type="button">Reset</button>
          </div>
          <button mat-flat-button class="full-button center-item" type="submit">Save</button>
      </form>
    </div>
    <div>
        <p *ngIf="errorName || errorPwd">Update Failed!</p>
        <p class="center-item" *ngIf="errorName">{{ errorName }}</p>
        <p class="center-item" *ngIf="errorPwd">{{ errorPwd }}</p>
        <p class="center-item" *ngIf="successfulUpdateMessage1">{{ successfulUpdateMessage1 }}</p>
    </div>


    <div class="dash-border">
      <div class="start-column">
        <p class="left-margin">Upload a New Photo</p>
        <input type="file" (change)="uploadFile($event)">
      </div>

      <div *ngIf="!errorPhoto && editPhoto && testUrl" >
        <app-image-cropper [imageSource]="testUrl" (newPhoto)="uploadPhoto($event)"></app-image-cropper>
      </div>
    </div>
    <p class="center-item" *ngIf="successfulUpdateMessage2">{{ successfulUpdateMessage2 }}</p>


  </div>
</div>


